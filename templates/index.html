<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>üåæAgriGuru</title>

        <style>
          .feature-box {
            position: relative;
            transition: all 0.3s ease-in-out;
          }
        
          .feature-box p {
            opacity: 0;
            transition: opacity 0.3s ease;
            height: 0;
            overflow: hidden;
            margin-top: 10px;
          }
        
          .feature-box:hover p {
            opacity: 1;
            height: auto;
          }
        </style>

        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="static/assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Simple line icons-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css" rel="stylesheet" />
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="static/css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
         
        <a class="menu-toggle rounded" href="#"><i class="fas fa-bars"></i></a>
        
        <nav id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand"><a href="#page-top">Agents of AI</a></li>
                <li class="sidebar-nav-item"><a href="#home">Home</a></li>
                <li class="sidebar-nav-item"><a href="#about">About</a></li>
                <li class="sidebar-nav-item"><a href="#services">Services</a></li>
                <li class="sidebar-nav-item"><a href="#contacts">Contact</a></li>
            </ul>
            
        </nav>
        <!-- Header-->
        <!-- Header with Video Background -->
      <header id="home" style="position: relative; height: 100vh; overflow: hidden;">
        <video autoplay muted loop playsinline style="position: absolute; width: 100%; height: 100%; object-fit: cover; z-index: -1;">
          <source src="static/assets/header-video.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>

        <div class="container px-4 px-lg-5 text-center d-flex flex-column justify-content-center align-items-center" style="height: 100vh;">
          <h1 class="mb-2 text-white">AgriGuru: Intelligent Agricultural Advisory System</h1>
          <h3 class="mb-4 text-white"><em>A Product by Agents of AI</em></h3>
          <a class="btn btn-primary btn-xl" href="#about">Find Out More</a>
        </div>
      </header>

        <!-- About-->
        <section class="content-section bg-light" id="about">
            <div class="container px-6 px-lg-9 text-center">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-12 text-center">
                        <h2 class="fw-bold display-6 mb-4 text-white">Agents of AI Present: <span class="text-white">AgriGuru</span></h2><br>
                        <h3 class="mb-4 text-white"><strong>About AgriGuru</strong></h3>
                        <p class="fs-4 text-white mb-5 px-3">
                            <strong>AgriGuru</strong> is an AI-powered agricultural advisory platform designed to help farmers make smarter, faster, and more informed decisions. By combining real-time weather data, soil insights, and intelligent recommendations, AgriGuru delivers personalized guidance tailored to each farm‚Äôs unique conditions.

                            Whether you're managing a single plot or running a large-scale operation, AgriGuru simplifies farming through data-driven support ‚Äî anytime, anywhere.
                        </p>
                                       
                                                   
                        <div class="row gx-4 gx-lg-5 text-center text-white">
                          <h3 class="mb-4"><strong>What AgriGuru Offers</strong></h3>                      

                          <div class="col-lg-4 col-md-6 mb-5 feature-box">
                            <span class="service-icon rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center"
                              style="font-size: 48px; width: 100px; height: 100px; background-color: #fff;; color: #fff;">
                              üåæ
                            </span>
                            <h5><strong>Crop Recommendations</strong></h5>
                            <p class="text-white mb-0">AgriGuru suggests the most suitable crops to grow based on your <strong> soil condition, location,</strong> and <strong>current weather</strong>. If you already provide a crop, it tailors advice accordingly.</p>
                          </div>
                        
                          <div class="col-lg-4 col-md-6 mb-5 feature-box">
                            <span class="service-icon rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center"
                              style="font-size: 48px; width: 100px; height: 100px; background-color: #fff;; color: #fff;">
                              üìã
                            </span>
                            <h5><strong>Crop Advisory</strong></h5>
                            <p class="text-white mb-0">You get expert guidance and practical tips to help you manage the chosen or recommended crop ‚Äî from planting to harvesting.</p>
                          </div>
                        
                          <div class="col-lg-4 col-md-6 mb-5 feature-box">
                            <span class="service-icon rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center"
                              style="font-size: 48px; width: 100px; height: 100px; background-color: #fff;; color: #fff;">
                              üåø
                            </span>
                            <h5><strong>Sustainable Practices</strong></h5>
                            <p class="text-white mb-0">Recommends eco-friendly, sustainable agricultural methods that maintain <strong> soil health</strong> and promote <strong> long-term farm productivity.</strong></p>
                          </div>
                        
                          <div class="col-lg-4 col-md-6 mb-5 feature-box">
                            <span class="service-icon rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center"
                              style="font-size: 48px; width: 100px; height: 100px; background-color: #fff;; color: #fff;">
                              üìà
                            </span>
                            <h5><strong>Yield Improvement Tips</strong></h5>
                            <p class="text-white mb-0">Offers data-driven suggestions to enhance crop yield such as optimal <strong> sowing time, nutrient management,</strong> and <strong> crop rotation</strong> techniques.</p>
                          </div>
                        
                          <div class="col-lg-4 col-md-6 mb-5 feature-box">
                            <span class="service-icon rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center"
                              style="font-size: 48px; width: 100px; height: 100px; background-color: #fff;; color: #fff;">
                              üå¶Ô∏è
                            </span>
                            <h5><strong>Weather Precautions</strong></h5>
                            <p class="text-white mb-0">Provides real-time weather alerts and recommendations (using OpenWeatherMap API) to help you <strong> protect your crops</strong> from adverse weather events.</p>
                          </div>
                        
                          <div class="col-lg-4 col-md-6 mb-5 feature-box">
                            <span class="service-icon rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center"
                              style="font-size: 48px; width: 100px; height: 100px; background-color: #fff;; color: #fff;">
                              üìä
                            </span>
                            <h5><strong>Market Trends</strong></h5>
                            <p class="text-white mb-0">Gives insights into <strong>agriculture market trends,</strong> helping you stay informed about <strong>pricing, demand,</strong> and potential <strong> opportunities</strong> in your region.</p>
                          </div>
                        
                        </div>


                        
                    
                        </div>
                    </div>
                    
                    
                </div>
            </div>
        </section>
        <!-- Services-->
        <section class="content-section text-white text-center" id="services" style="background-image: url('static/assets/img/corn.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat;">
          <div style="background-color: rgba(0, 0, 0, 0.5); padding: 60px 20px;">
            <div class="container px-4 px-lg-5">
              <div class="content-section-heading">
                <h2 class="text-white fw-bold display-6 mb-4">Select Location & Details</h2>
                <br>
              </div>
          
              <div class="card shadow-sm" style="background-color: transparent; border: none;">
  <div class="card-body p-3 text-white" style="background-color: rgba(255, 255, 255, 0.1);">

                  <!--<h3 class="text-center mb-3">Select Location & Details</h3>-->
          
                  <!-- Map Block -->
                  <div class="mb-4">
                    <div id="map" style="height: 400px; border-radius: 10px;"></div>

                    <div class="container px-4 px-lg-5"><br>                     
                          <div class="alert alert-info p-3"> 
                              <strong>üìç Latitude:</strong> <span id="lat">--</span><br>
                              <strong>üìç Longitude:</strong> <span id="lon">--</span>
                          </div>      
                  </div>
                                       
                  </div>
          
                  <!-- Manual Inputs -->
                  <div class="container px-4 px-lg-5">
                    <div class="alert alert-info p-3"> 

                      <form method="POST" action="/submit">
                        
                        <div class="mb-3 text-center">
                          <label for="city" class="form-label"><strong>Location</strong></label>
                          <input type="text" class="form-control py-1" id="city" name="location" placeholder="Enter city/village/state">
                        </div>
                      
                        <div class="mb-3">
                          <label for="cropInput" class="form-label"><strong>Crop (Optional)</strong></label>
                          <input type="text" class="form-control py-1" id="cropInput" name="crop" placeholder="e.g. Rice, Maize...">
                        </div>
                      
                        <div class="mb-3">
                          <label for="notes" class="form-label"><strong>Soil Condition (Required)</strong></label>
                          <textarea class="form-control py-1" id="notes" name="notes" rows="3" placeholder="e.g. Loamy soil, pH 6.5, high organic matter, well-drained Optional: NPK values, EC levels" required></textarea>
                          
                        </div>
                      
                        <div class="text-center">
                          <button type="submit" class="btn btn-primary px-4">Submit</button>
                        </div> 
                      </form>
                    </div>
                  </div>
                  
                </div>
              </div>
            </div>
          </div>          
          </section>
          
        
        
        <!-- Footer-->
        <footer class="footer text-center">
            <div class="container px-4 px-lg-5 text-dark" id="contacts">
                <h2 class="mb-2">üì±Contact Us</h2><br><br>
                <ul class="list-inline mb-5">
                  <li class="list-inline-item text-center mx-4">

                      <img src="static/assets/img/Saumya.jpeg" class="rounded-circle mb-2" width="80" height="80" alt="Saumya">
                      <div><strong>Saumya Mohandas N</strong></div>
                      <div>Senior Analyst - Data Science</div>
                      <a class="social-link rounded-circle text-white mt-1" href="https://www.linkedin.com/in/saumya-mohandas-n-97169693/" target="_blank" style="background-color: #0077b5; display: inline-block; width: 36px; height: 36px; line-height: 36px;">
                        <i class="icon-social-linkedin"></i>
                      </a>
                    </li> 

                  </ul>
                  
                <p class="text-muted small mb-0">Copyright &copy; Agents of AI</p>
            </div>
        </footer>
        <!-- Scroll to Top Button-->
        <a class="scroll-to-top rounded" href="#page-top"><i class="fas fa-angle-up"></i></a>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="static/js/scripts.js"></script>
        <!-- Leaflet JS/CSS and Custom Script -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
const map = L.map('map').setView([20.5937, 78.9629], 5);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '¬© OpenStreetMap contributors'
}).addTo(map);

let marker;

map.on('click', function (e) {
    const lat = e.latlng.lat.toFixed(4);
    const lon = e.latlng.lng.toFixed(4);

    if (marker) map.removeLayer(marker);
    marker = L.marker(e.latlng).addTo(map);

    document.getElementById('lat').innerText = lat;
    document.getElementById('lon').innerText = lon;

    fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`)
        .then(res => res.json())
        .then(data => {
            const addr = data.address;
            const city = addr.city || addr.town || addr.village || addr.hamlet || "Unknown";
            document.getElementById('city').innerText = city;

            // ‚úÖ Automatically set the location input field so it's sent to backend
            document.querySelector("input[name='location']").value = city;
        })
        .catch(err => {
            document.getElementById('city').innerText = "Error";
        });
});

// üîÅ Update map view when typing location
document.querySelector("input[name='location']").addEventListener("change", function () {
    const location = this.value.trim();
    if (!location) return;

    fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(location)}`)
        .then(res => res.json())
        .then(data => {
            if (data && data.length > 0) {
                const lat = parseFloat(data[0].lat).toFixed(4);
                const lon = parseFloat(data[0].lon).toFixed(4);
                const latlng = L.latLng(lat, lon);

                map.setView(latlng, 10);
                if (marker) map.removeLayer(marker);
                marker = L.marker(latlng).addTo(map);

                document.getElementById('lat').innerText = lat;
                document.getElementById('lon').innerText = lon;
                document.getElementById('city').innerText = location;
            } else {
                alert("Location not found!");
            }
        })
        .catch(err => {
            alert("Error fetching location.");
            console.error(err);
        });
});
</script>


    </body>
</html>

